# 1. 枚举类型
enum SlangCategory {
  STANDARD    # 对应你原来的 NORMAL_TERMS
  CHINESE     # 对应你原来的 CN_SLANG
  SENSITIVE   # 对应你原来的 SENSITIVE_TERMS
}

enum RequestType {
  ADD         # 申请添加新词
  EDIT        # 申请修改现有词
  QUESTION    # 提问/求解释
}

enum RequestStatus {
  PENDING     # 待审核
  APPROVED    # 已通过
  REJECTED    # 已拒绝
}
# 2. 正式发布的俚语词条
type SlangTerm @model @auth(rules: [
  { allow: public, operations: [read] },
  { allow: groups, groups: ["Admins"], operations: [create, update, delete] }
]) {
  id: ID!
  term: String!
  meaning: String!
  category: SlangCategory!
  example: String
}

# 3. 用户的贡献
type Contribution @model @auth(rules: [
  { allow: owner, operations: [create, read] },
  { allow: public, operations: [create, read] },
  { allow: groups, groups: ["Admins"], operations: [create, read, update, delete] }
]) {
  id: ID!
  type: RequestType!
  term: String!
  proposedMeaning: String
  note: String
  status: RequestStatus!
  adminResponse: String
  owner: String
}

# 4. 用户行为分析
type UserAnalytics @model @auth(rules: [
  { allow: public, operations: [create, read] },
  { allow: groups, groups: ["Admins"], operations: [read, delete] }
]) {
  id: ID!
  userId: String!
  isAnonymous: Boolean!
  page: String!
  durationSeconds: Int!
  clickCount: Int!
  timestamp: AWSDateTime
}



# Force update: 2025-12-02