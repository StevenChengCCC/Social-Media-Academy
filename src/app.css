/* ===== Theme variables (dark/light auto) ===== */
:root{
  --bg1:#0f172a; --bg2:#1e293b; --glass:rgba(255,255,255,.08);
  --card:rgba(255,255,255,.12); --stroke:rgba(255,255,255,.2);
  --text:#e5e7eb; --muted:#cbd5e1; --accent:#a78bfa; --accent2:#60a5fa;
  --shadow:0 10px 30px rgba(0,0,0,.25);
  --danger:#ef4444; --danger-ink:#7f1d1d; --danger-bg:rgba(239,68,68,.1);
}
@media (prefers-color-scheme: light){
  :root{
    --bg1:#eef2ff; --bg2:#e0e7ff; --glass:rgba(255,255,255,.6);
    --card:#ffffffcc; --stroke:rgba(0,0,0,.08);
    --text:#0f172a; --muted:#334155; --accent:#7c3aed; --accent2:#2563eb;
    --shadow:0 10px 30px rgba(2,6,23,.12);
    --danger:#dc2626; --danger-ink:#7f1d1d; --danger-bg:#fee2e2;
  }
}
*{box-sizing:border-box} html,body,#root{height:100%} body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial}

/* ===== Background & layout ===== */
.page{
  min-height:100%;
  background:
    radial-gradient(1200px 500px at 10% -10%, color-mix(in oklab,var(--accent) 72%, transparent) , transparent 55%),
    radial-gradient(900px 480px at 100% 0%, color-mix(in oklab,var(--accent2) 70%, transparent), transparent 60%),
    linear-gradient(180deg,var(--bg1),var(--bg2));
  display:grid; grid-template-rows:auto 1fr auto;
}

/* ===== Fancy hero ===== */
.hero{width:100%; padding:clamp(36px,7vw,96px) 24px 18px; display:grid; place-items:center; text-align:center; position:relative; overflow:hidden}
.hero.fancy::before{
  content:""; position:absolute; inset:-40% -10% auto -10%; height:260px;
  background:conic-gradient(from 0deg, var(--accent), var(--accent2), var(--accent), var(--accent2));
  filter:blur(60px) saturate(1.1); opacity:.25; animation:spin 16s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

.title{margin:0; line-height:1; letter-spacing:.02em; font-size:clamp(28px,6.2vw,72px); font-weight:600; color:var(--text)}
.title span{
  background:linear-gradient(90deg, var(--text), var(--muted));
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Subtitle in English */
.subhero{
  max-width:min(860px,92%); margin:14px auto 12px; color:var(--muted);
  font-size:clamp(14px,1.7vw,17px); line-height:1.55;
}

/* chips quick nav */
.chips{display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin:8px 0 2px}
.chip{
  text-decoration:none; color:var(--text); font-size:13px;
  padding:6px 10px; border:1px solid var(--stroke); border-radius:999px;
  background:var(--glass); transition:transform .16s ease,border-color .16s ease,background .16s ease;
}
.chip:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.35); background:var(--card)}

/* ===== Wide cards (list) ===== */
.list{width:min(1000px,92%); margin:8px auto 24px; display:grid; gap:14px}
.tile-wide{
  position:relative; display:grid; grid-template-columns:220px 1fr auto; gap:14px; align-items:center;
  text-decoration:none; color:var(--text);
  padding:12px; border:1px solid var(--stroke); border-radius:16px; background:var(--card);
  box-shadow:var(--shadow); transition:transform .2s ease, border-color .2s ease, background .2s ease;
}
.tile-wide:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.35)}
.tile-media{width:220px; aspect-ratio:16/9; border-radius:12px; background:var(--glass); border:1px solid var(--stroke); overflow:hidden; display:grid; place-items:center}
.tile-media img{width:100%; height:100%; object-fit:contain; display:block}
.tile-body{min-width:0}
.tile-title{font-weight:800; font-size:18px; letter-spacing:.01em; margin-bottom:2px}
.tile-desc{color:var(--muted); font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
.tile-wide .tile-arrow{align-self:stretch; display:grid; place-items:center; padding:0 8px; opacity:.6; transition:transform .2s ease, opacity .2s ease}
.tile-wide:hover .tile-arrow{transform:translateX(3px); opacity:.9}

/* highlight banner (LinkedIn entry) */
.highlight{
  width:min(1000px,92%); margin:6px auto 18px; padding:10px 12px;
  border:1px solid color-mix(in oklab,var(--accent) 35%, var(--stroke));
  border-radius:14px; background:linear-gradient(90deg, color-mix(in oklab,var(--accent) 18%, transparent), transparent);
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.hl-left{display:flex; align-items:center; gap:10px}
.hl-dot{width:10px; height:10px; border-radius:50%; background:radial-gradient(circle at 30% 30%, #fff, var(--accent))}
.hl-text{color:var(--text); display:flex; gap:8px; flex-wrap:wrap}
.hl-link{text-decoration:none; color:var(--text); border-bottom:1px dashed var(--stroke)}
.hl-link:hover{border-color:rgba(255,255,255,.35)}

/* play link (bottom) */
.play-link{width:min(1000px,92%); margin:6px auto 14px; display:flex; justify-content:center}
.play-cta{font-size:14px; color:var(--text); opacity:.9; text-decoration:none; border:1px dashed var(--stroke); padding:8px 12px; border-radius:999px; background:var(--glass); transition:transform .16s ease,opacity .16s ease,border-color .16s ease}
.play-cta:hover{transform:translateY(-1px); opacity:1; border-color:rgba(255,255,255,.35)}

/* responsive */
@media (max-width:720px){
  .tile-wide{grid-template-columns:1fr auto; grid-template-rows:auto auto; gap:10px}
  .tile-media{width:100%; grid-column:1/-1}
}

/* footer & not-found */
.nf{min-height:60vh; display:grid; place-items:center; color:var(--text); text-align:center; padding:24px}
.back{color:var(--text); border:1px solid var(--stroke); padding:8px 12px; border-radius:12px; text-decoration:none; background:var(--glass)}
.footer{width:min(1000px,92%); margin:0 auto 32px; color:var(--muted); font-size:13px; display:flex; justify-content:center; gap:10px; padding:8px 0; border-top:1px solid color-mix(in oklab,var(--stroke) 60%, transparent)}

/* ===== Shared guide doc ===== */
.doc{width:min(1100px,94%); margin:10px auto 28px; color:var(--text); background:color-mix(in oklab,var(--card) 75%, transparent); border:1px solid var(--stroke); border-radius:16px; padding:16px; box-shadow:var(--shadow)}
.doc h1{margin:0 0 6px; font-size:28px}
.doc p.lead{color:var(--muted); margin:0 0 14px}
.pill{display:inline-block; padding:3px 8px; border-radius:999px; border:1px solid var(--stroke); background:var(--glass); font-size:12px; margin:0 6px 6px 0}
.section{border-top:1px solid var(--stroke); padding-top:12px; margin-top:12px}
.section h2{margin:0 0 6px; font-size:18px}
.steps{margin:6px 0 2px; padding-left:18px}
.steps li{margin:4px 0; line-height:1.45}
.tip{font-size:13px; color:var(--muted)}

/* ===== Slang dictionary ===== */
.slang-search{display:grid; gap:8px; margin:8px 0 10px}
.slang-input{
  width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--stroke);
  background:var(--glass); color:var(--text);
}
.slang-result{font-size:14px; color:var(--text)}
.slang-list{list-style:none; padding-left:0; margin:8px 0}
.slang-row{
  display:flex; gap:10px; align-items:flex-start; padding:8px 12px; border:1px solid var(--stroke);
  border-radius:12px; background:var(--glass); margin-bottom:8px;
}
.slang-term{min-width:140px; display:inline-block}
.slang-meaning{color:var(--muted)}
.slang-meaning.masked .mask-warning{
  display:inline-flex; align-items:center; gap:10px; flex-wrap:wrap;
  background:var(--danger-bg); color:var(--danger-ink);
  border:1px dashed var(--danger); border-radius:10px; padding:6px 8px;
}
.reveal-btn{
  border:1px solid var(--danger); background:color-mix(in oklab,var(--danger) 12%, transparent);
  color:var(--danger-ink); border-radius:10px; padding:4px 8px; cursor:pointer;
}
.reveal-btn:hover{filter:brightness(1.05)}
.danger-title{color:var(--danger)}
.danger-note{
  background:var(--danger-bg); border:1px solid var(--danger);
  color:var(--danger-ink); padding:8px 10px; border-radius:10px; margin:6px 0 10px;
}

/* ===== Play (RPS Arena) ===== */
.play-wrap{width:min(1100px,94%); margin:8px auto 28px}
.play-title{color:var(--text); font-size:clamp(18px,2.6vw,24px); margin:6px 0 12px}
.play-back{margin-top:14px; text-align:center}

.arena{
  background: color-mix(in oklab, var(--card) 70%, transparent);
  border: 1px solid var(--stroke);
  border-radius: 16px;
  padding: 14px;
  box-shadow: var(--shadow);
}
.arena-row{display:flex; gap:10px; align-items:center; margin-bottom:8px}
.arena-title{font-weight:700; color:var(--text)}
.arena-actions{margin-left:auto; display:flex; gap:8px}
.btn{
  padding:8px 12px; border-radius:12px; border:1px solid var(--stroke); background:var(--glass);
  color:var(--text); cursor:pointer; transition:transform .15s ease, border-color .15s ease;
}
.btn:hover{transform:translateY(-1px); border-color:rgba(255,255,255,.35)}

.arena-grid{display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:10px; margin:10px 0 8px}
@media (max-width:720px){ .arena-grid{grid-template-columns:1fr} }
.field{
  display:grid; grid-template-columns:70px 1fr 60px; align-items:center; gap:8px; padding:8px;
  border:1px solid var(--stroke); border-radius:12px; background:var(--glass);
}
.field>span{color:var(--muted); font-size:13px}
.field>em{color:var(--muted); font-style:normal; text-align:right; font-variant-numeric:tabular-nums}
.field input[type="range"]{width:100%}

.arena-badges{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px; color:#0f172a}
.arena-badges span{
  background:#ffffffb3; border:1px solid var(--stroke); border-radius:999px; padding:4px 8px;
}
.arena-canvas{border:1px solid var(--stroke); border-radius:16px; overflow:hidden; background:linear-gradient(135deg,#f0f9ff,#eef2ff)}
.arena-canvas canvas{display:block; width:100%; height:560px}
.arena-note{margin-top:8px; color:var(--muted); font-size:12px}
.subhero { font-size: clamp(15px, 1.9vw, 18px); }